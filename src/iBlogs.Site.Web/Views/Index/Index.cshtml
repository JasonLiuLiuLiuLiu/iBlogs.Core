@model IndexViewModel
<main role="main" class="App-main">
    <div class="Topstory">
        <div class="Topstory-container">
            <div class="Topstory-mainColumn">
                <div class="Card Topstory-noMarginCard Topstory-tabCard">
                    <nav class="TopstoryTabs Topstory-tabs">
                        @if (string.IsNullOrEmpty(Model.DisplayType))
                        {
                        <a class="TopstoryTabs-link Topstory-tabsLink @(!string.IsNullOrWhiteSpace(Model.OrderType) && Model.OrderType == "Index" ? "is-active" : "")" href="/">
                            <svg class="Zi Zi--HelpBubble GlobalSideBar-navIcon" fill="currentColor" viewBox="0 0 60 60" width="18" height="18">
                                <g><path d="M30,0c-0.553,0-1,0.447-1,1v13.292c0,0.553,0.447,1,1,1s1-0.447,1-1V2.018C45.979,2.546,58,14.896,58,30c0,15.439-12.561,28-28,28S2,45.439,2,30c0-7.46,2.9-14.479,8.166-19.764c0.391-0.392,0.389-1.024-0.002-1.414C9.772,8.434,9.14,8.434,8.75,8.824C3.107,14.486,0,22.007,0,30c0,16.542,13.458,30,30,30s30-13.458,30-30S46.542,0,30,0z" /><path d="M28.555,33.532C29.223,34.451,30.301,35,31.438,35c0.95,0,1.845-0.371,2.518-1.044c0.737-0.737,1.114-1.756,1.033-2.797s-0.612-1.99-1.459-2.606l-12.944-9.363c-0.396-0.286-0.945-0.242-1.293,0.104c-0.348,0.348-0.391,0.896-0.104,1.293L28.555,33.532z" /></g>
                            </svg>&nbsp时间
                        </a>
                            <a class="TopstoryTabs-link Topstory-tabsLink @(!string.IsNullOrWhiteSpace(Model.OrderType) && Model.OrderType == "Hot" ? "is-active" : "")" href="/hot">
                                <svg class="Zi Zi--HelpBubble GlobalSideBar-navIcon" fill="currentColor" viewBox="0 0 512 512" width="18" height="18">
                                    <g><g><path d="M487.464,232.092c-4.15-5.321-11.825-6.267-17.147-2.12c-5.32,4.15-6.269,11.826-2.12,17.147c4.078,5.23,4.078,12.533,0,17.763c-29.884,38.315-68.55,67.106-112.08,84.513c22.879-24.497,36.888-57.346,36.888-93.395c0-35.907-13.892-68.638-36.576-93.083c25.153,10.114,48.798,24.014,69.966,41.37c2.627,2.153,5.246,4.386,7.79,6.638c5.052,4.473,12.772,4.003,17.245-1.048c4.473-5.051,4.003-12.773-1.048-17.245c-2.773-2.457-5.632-4.892-8.496-7.239c-52.22-42.815-118.237-66.394-185.886-66.394c-91.043,0-175.408,41.221-231.463,113.094c-10.979,14.077-10.979,33.74,0,47.818c56.055,71.873,140.42,113.094,231.463,113.094c91.041,0,175.407-41.221,231.464-113.094C498.443,265.831,498.443,246.169,487.464,232.092z M43.804,264.882c-4.078-5.23-4.078-12.533,0-17.763c29.877-38.308,68.535-67.095,112.057-84.504C133.006,187.1,118.995,219.936,118.995,256c0,36.051,14.01,68.9,36.865,93.386C112.339,331.977,73.68,303.19,43.804,264.882z M256.149,368.567c-0.049,0-0.098,0.001-0.148,0.001c-0.05,0-0.098-0.001-0.148-0.001c-62.007-0.08-112.424-50.542-112.424-112.567s50.416-112.487,112.424-112.567c0.049,0,0.098-0.001,0.148-0.001c0.038,0,0.076,0.001,0.114,0.001c62.022,0.061,112.457,50.53,112.457,112.567C368.572,318.025,318.156,368.487,256.149,368.567z" /></g></g><g><g><path d="M256.001,204.16c-28.587,0-51.84,23.253-51.84,51.84s23.253,51.84,51.84,51.84s51.84-23.253,51.84-51.84S284.588,204.16,256.001,204.16z M256.001,283.406c-15.108,0-27.406-12.298-27.406-27.406s12.298-27.406,27.406-27.406s27.406,12.298,27.406,27.406S271.109,283.406,256.001,283.406z" /></g></g><g><g><path d="M256.001,0c-6.748,0-12.217,5.469-12.217,12.217V58.03c0,6.748,5.469,12.217,12.217,12.217s12.217-5.469,12.217-12.217V12.217C268.218,5.469,262.748,0,256.001,0z" /></g></g><g><g><path d="M256.001,441.753c-6.748,0-12.217,5.469-12.217,12.217v45.813c0,6.748,5.469,12.217,12.217,12.217s12.217-5.469,12.217-12.217V453.97C268.218,447.222,262.747,441.753,256.001,441.753z" /></g></g><g><g><path d="M437.021,74.98c-4.771-4.77-12.505-4.77-17.279,0l-22.795,22.795c-4.771,4.771-4.771,12.506,0,17.279c2.386,2.385,5.511,3.578,8.639,3.578c3.126,0,6.252-1.193,8.639-3.578l22.797-22.795C441.792,87.488,441.792,79.753,437.021,74.98z" /></g></g><g><g><path d="M115.055,396.946c-4.77-4.769-12.505-4.77-17.277,0l-22.797,22.795c-4.771,4.771-4.771,12.506,0,17.279c2.386,2.385,5.513,3.578,8.639,3.578s6.252-1.193,8.639-3.578l22.797-22.795C119.826,409.453,119.826,401.719,115.055,396.946z" /></g></g><g><g><path d="M115.055,97.776L92.258,74.98c-4.771-4.77-12.506-4.77-17.277,0c-4.771,4.773-4.77,12.507,0,17.279l22.797,22.795c2.385,2.385,5.513,3.578,8.639,3.578s6.254-1.193,8.639-3.578C119.826,110.281,119.825,102.547,115.055,97.776z" /></g></g><g><g><path d="M437.019,419.741l-22.795-22.795c-4.773-4.77-12.506-4.77-17.279,0c-4.771,4.773-4.771,12.507,0,17.279l22.797,22.795c2.386,2.385,5.513,3.578,8.639,3.578c3.126,0,6.252-1.193,8.639-3.578C441.791,432.247,441.791,424.512,437.019,419.741z" /></g></g>
                                </svg>&nbsp热度
                            </a>
                            <a class="TopstoryTabs-link Topstory-tabsLink @(!string.IsNullOrWhiteSpace(Model.OrderType) && Model.OrderType == "Random" ? "is-active" : "")" href="/random">
                                <svg class="Zi Zi--HelpBubble GlobalSideBar-navIcon" fill="currentColor" viewBox="0 0 336.591 336.592" width="18" height="18">
                                    <g><g><path d="M278.217,21.171c-50.184-11.016-105.876,9.792-153,41.616C90.945,46.263,55.449,34.635,24.237,27.903c-4.896-1.224-6.732,6.12-1.836,7.344c29.988,9.792,61.2,21.42,90.576,36.72c-28.152,20.808-52.02,45.288-69.156,68.544c-23.868,32.435-41.616,70.379-33.048,111.383c8.568,44.064,50.796,68.544,90.576,78.336c44.676,11.017,99.756,9.181,138.925-17.136c38.556-26.316,41.004-80.784,25.092-120.564c-20.196-51.407-69.156-92.411-123.625-121.787c41.004-26.316,88.128-42.84,132.192-35.496C283.725,37.083,288.009,23.007,278.217,21.171z M235.99,171.723c24.479,34.884,34.884,88.128,3.06,121.788c-31.212,33.66-93.024,30.6-134.028,21.42c-38.556-8.568-72.216-31.212-80.172-72.216c-7.956-39.168,18.972-79.56,42.84-107.1c16.524-18.972,37.332-38.556,60.588-55.692C170.505,103.791,209.061,133.779,235.99,171.723z"/><path d="M324.118,24.843c-7.956-5.508-15.3-11.016-22.645-16.524c-5.508-4.284-10.403-9.792-17.748-7.956c-2.447,0.612-4.283,3.06-4.283,5.508c0,7.344,6.731,10.404,12.239,14.688c4.896,3.672,10.404,7.344,15.301,11.016c-11.017,7.344-24.48,11.628-34.885,20.808c-5.508,4.896,1.225,11.628,7.345,9.18c7.956-3.672,15.911-7.344,23.256-11.016c7.344-3.672,16.523-7.344,22.644-13.464C329.625,33.411,328.402,27.291,324.118,24.843z"/></g></g>
                                </svg>&nbsp随机
                            </a>
                        }
                        else
                        {
                            <a class="TopstoryTabs-link Topstory-tabsLink is-active" href="@(Model.DisplayType == "标签" ? "/alltags" : "/allcategories")">
                                @if (Model.DisplayType == "标签")
                                {
                                    <svg class="Zi Zi--Live" fill="currentColor" style="color: rgb(0, 132, 255);" viewBox="0 0 425.7 425.7" width="24" height="24">
                                        <g><g><path d="M167.538,231.652c-2.56-0.512-5.632,1.024-6.144,4.096l-24.064,117.76c-0.512,2.56,1.024,5.632,4.096,6.144c0.512,0,0.512,0,1.024,0c2.56,0,4.608-1.536,5.12-4.096l24.064-117.76C172.146,235.236,170.61,232.164,167.538,231.652z" /></g></g>
                                        <g><g><path d="M202.354,238.82c-2.56-0.512-5.632,1.024-6.144,4.096l-24.064,117.76c-0.512,2.56,1.024,5.632,4.096,6.144c0.512,0,0.512,0,1.024,0c2.56,0,4.608-1.536,5.12-4.096l24.064-117.76C206.962,241.892,204.914,239.332,202.354,238.82z" /></g></g>
                                        <g><g><path d="M236.658,245.988c-2.56-0.512-5.632,1.024-6.144,4.096l-24.064,117.76c-0.512,2.56,1.024,5.632,4.096,6.144c0.512,0,0.512,0,1.024,0c2.56,0,4.608-1.536,5.12-4.096l24.064-117.76C241.266,249.06,239.218,246.5,236.658,245.988z" /></g></g>
                                        <g><g><path d="M412.274,0.74c-2.56-1.536-5.632-0.512-7.168,1.536C367.218,65.764,313.97,108.26,275.57,132.324c-1.536,0-3.584,0-5.12,0l-55.296,4.096l-33.28-6.144c-10.24-2.048-20.48-1.024-30.208,3.072C110.706,107.236,57.97,65.252,20.594,2.788c-1.536-2.56-4.608-3.072-7.168-1.536S10.354,5.86,11.89,8.42c36.864,61.952,88.064,104.448,129.536,131.072c-10.752,7.68-17.92,18.944-20.48,31.744l-35.84,176.64c-5.632,27.648,12.288,55.296,39.936,60.928l77.824,15.872c3.584,0.512,6.656,1.024,10.24,1.024c17.92,0,34.816-9.728,44.032-25.088l32.768-2.56c12.8-1.024,24.576-7.168,33.28-16.896c8.704-9.728,12.8-22.528,11.776-35.328l-12.8-167.936c-1.536-19.456-14.848-35.84-32.256-41.984c38.4-26.112,88.064-67.584,123.904-128C415.346,5.348,414.834,2.276,412.274,0.74z M255.09,382.692c-5.632,20.992-27.136,35.328-49.664,31.232l-77.824-15.872c-22.528-4.608-36.864-26.624-32.256-48.64l35.84-176.64c2.048-10.752,8.704-19.968,17.92-26.112c1.024-0.512,1.536-1.024,2.56-1.536c19.456,11.776,35.84,19.968,46.592,25.088c-4.608,3.072-7.68,7.68-8.704,13.824c-1.024,5.632,0,11.776,3.072,16.896c3.072,5.12,8.192,8.192,13.824,9.728c1.536,0.512,3.072,0.512,4.608,0.512c4.096,0,8.704-1.024,12.288-3.584c5.12-3.072,8.192-8.192,9.728-13.824c1.024-5.632,0-11.776-3.072-16.896c-3.072-4.608-7.68-7.68-13.312-9.216c-0.512,0-22.016-8.192-52.224-26.112c2.56-0.512,5.632-1.024,8.192-1.024s5.632,0.512,8.192,1.024l77.824,15.872c22.528,4.608,36.864,26.624,32.256,48.64L255.09,382.692z M199.282,185.572c1.024-5.632,6.144-9.728,11.776-9.728c1.024,0,1.536,0,2.56,0c3.072,0.512,5.632,2.56,7.68,5.12c1.536,2.56,2.56,5.632,1.536,8.704c-0.512,3.072-2.56,5.632-5.12,7.68c-2.56,1.536-5.632,2.56-8.704,1.536c-3.072-0.512-5.632-2.56-7.68-5.12C199.282,191.716,198.77,188.644,199.282,185.572zM311.922,177.892l12.8,167.936c1.536,20.992-14.336,39.424-35.328,40.96l-27.136,2.048c0.512-2.048,1.024-3.584,1.536-5.632l12.8-62.976l1.536,25.6c0,2.56,2.56,4.608,5.12,4.608c0,0,0,0,0.512,0c3.072,0,5.12-2.56,4.608-5.632l-4.096-62.976l15.36-75.264c5.632-27.648-12.288-55.296-39.936-60.928l-8.704-1.536l19.456-1.536C291.954,141.028,310.386,156.9,311.922,177.892z" /></g></g>
                                    </svg>
                                }
                                else
                                {
                                    <svg class="Zi Zi--Live" fill="currentColor" style="color: rgb(67, 212, 128);" viewBox="0 0 512 512" width="24" height="24">
                                        <g>
                                            <path d="M467,331h-15v-15c0-24.813-20.187-45-45-45H271v-30c14.095,0,30.95,0,45,0c8.284,0,15-6.716,15-15s-6.716-15-15-15h-15v-30h45c24.813,0,45-20.187,45-45V45c0-24.813-20.187-45-45-45H166c-24.813,0-45,20.187-45,45v91c0,24.813,20.187,45,45,45h45v30h-15c-8.284,0-15,6.716-15,15s6.716,15,15,15c14.05,0,30.905,0,45,0v30H105c-24.813,0-45,20.187-45,45v15H45c-24.813,0-45,20.187-45,45v30c0,24.813,20.187,45,45,45h15v31H45c-8.284,0-15,6.716-15,15s6.716,15,15,15h60c8.284,0,15-6.716,15-15s-6.716-15-15-15H90v-31h15c24.813,0,45-20.187,45-45v-30c0-24.813-20.187-45-45-45H90v-15c0-8.271,6.729-15,15-15h136v30h-15c-24.813,0-45,20.187-45,45v30c0,24.813,20.187,45,45,45h15v31h-15c-8.284,0-15,6.716-15,15s6.716,15,15,15h60c8.284,0,15-6.716,15-15s-6.716-15-15-15h-15v-31h15c24.813,0,45-20.187,45-45v-30c0-24.813-20.187-45-45-45h-15v-30h136c8.271,0,15,6.729,15,15v15h-15c-24.813,0-45,20.187-45,45v30c0,24.813,20.187,45,45,45h15v31h-15c-8.284,0-15,6.716-15,15s6.716,15,15,15h60c8.284,0,15-6.716,15-15s-6.716-15-15-15h-15v-31h15c24.813,0,45-20.187,45-45v-30C512,351.187,491.813,331,467,331z M105,361c8.271,0,15,6.729,15,15v30c0,8.271-6.729,15-15,15H45c-8.271,0-15-6.729-15-15v-30c0-8.271,6.729-15,15-15H105z M166,151c-8.271,0-15-6.729-15-15V45c0-8.271,6.729-15,15-15h180c8.271,0,15,6.729,15,15v91c0,8.271-6.729,15-15,15C309.96,151,201.911,151,166,151z M286,361c8.271,0,15,6.729,15,15v30c0,8.271-6.729,15-15,15h-60c-8.271,0-15-6.729-15-15v-30c0-8.271,6.729-15,15-15H286z M241,211v-30h30v30H241z M482,406c0,8.271-6.729,15-15,15h-60c-8.271,0-15-6.729-15-15v-30c0-8.271,6.729-15,15-15h60c8.271,0,15,6.729,15,15V406z" />
                                        </g>
                                    </svg>
                                }

                                &nbsp @Model.DisplayType
                            </a>
                            <span class="TagsHeader">
                                # @Model.DisplayMeta #
                            </span>
                        }
                    </nav>
                </div>
                <div id="TopstoryContent" class="Topstory-content">
                    <div class="ListShortcut">
                        <div class="Topstory-recommend">
                            <div class="">
                                @{
                                    foreach (var article in Model.Contents.Rows)
                                    {
                                        <div class="Card TopstoryItem TopstoryItem-isRecommend" tabindex="0">
                                            <div class="Feed">
                                                <div class="ContentItem AnswerItem">
                                                    <h2 class="ContentItem-title">
                                                        <div itemprop="Blogs:question" itemtype="http://schema.org/Question" itemscope="">
                                                            <a data-za-detail-view-element_name="Title" data-za-detail-view-id="2812" href="@article.Permalink()">@article.Title</a>
                                                        </div>
                                                    </h2>
                                                    <div class="RichContent is-collapsed">
                                                        <div class="RichContent-cover">
                                                            <div class="RichContent-cover-inner"><img src="@article.ShowThumb()" alt="image"></div>
                                                        </div>
                                                        <div class="RichContent-inner">
                                                            <span class="RichText ztext CopyrightRichText-richText" itemprop="text">
                                                                @Html.Raw(article.Intro())
                                                            </span>
                                                            <a class="Button ContentItem-more Button--plain" href="@article.Permalink()">
                                                                阅读全文
                                                            </a>
                                                        </div>
                                                        <div class="ContentItem-actions">
                                                            <button type="button" class="Button ContentItem-action Button--plain Button--withIcon Button--withLabel">
                                                                <span style="display: inline-flex; align-items: center;">
                                                                    <svg class="Zi Zi--Comment Button-zi"
                                                                         fill="currentColor" viewBox="0 0 24 24"
                                                                         width="1.2em" height="1.2em">
                                                                        <path d="M10.241 19.313a.97.97 0 0 0-.77.2 7.908 7.908 0 0 1-3.772 1.482.409.409 0 0 1-.38-.637 5.825 5.825 0 0 0 1.11-2.237.605.605 0 0 0-.227-.59A7.935 7.935 0 0 1 3 11.25C3 6.7 7.03 3 12 3s9 3.7 9 8.25-4.373 9.108-10.759 8.063z"
                                                                              fill-rule="evenodd"></path>
                                                                    </svg>
                                                                </span>评论(@article.CommentsNum)
                                                            </button>
                                                            <button type="button" class="Button ContentItem-action Button--plain Button--withIcon Button--withLabel">
                                                                <span style="display: inline-flex; align-items: center;">
                                                                    <svg class="Zi Zi--Heart Button-zi"
                                                                         fill="currentColor" viewBox="0 0 24 24"
                                                                         width="1.2em" height="1.2em">
                                                                        <path d="M2 8.437C2 5.505 4.294 3.094 7.207 3 9.243 3 11.092 4.19 12 6c.823-1.758 2.649-3 4.651-3C19.545 3 22 5.507 22 8.432 22 16.24 13.842 21 12 21 10.158 21 2 16.24 2 8.437z"
                                                                              fill-rule="evenodd"></path>
                                                                    </svg>
                                                                </span>阅读(@article.Hits)
                                                            </button>
                                                            <div class="Popover ShareMenu ContentItem-action">
                                                                <div class="ShareMenu-toggler" id="Popover11-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover11-content">
                                                                    <button type="button" class="Button Button--plain Button--withIcon Button--withLabel">
                                                                        <span style="display: inline-flex; align-items: center;">
                                                                            <svg class="Zi Zi--Share Button-zi"
                                                                                 fill="currentColor"
                                                                                 viewBox="0 0 24 24" width="1.2em"
                                                                                 height="1.2em">
                                                                                <path d="M2.931 7.89c-1.067.24-1.275 1.669-.318 2.207l5.277 2.908 8.168-4.776c.25-.127.477.198.273.39L9.05 14.66l.927 5.953c.18 1.084 1.593 1.376 2.182.456l9.644-15.242c.584-.892-.212-2.029-1.234-1.796L2.93 7.89z"
                                                                                      fill-rule="evenodd"></path>
                                                                            </svg>
                                                                        </span>@article.CreatedStr("MM/dd/yyyy hh:mm tt")
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    }
                                }

                            </div>
                        </div>
                    </div>
                </div>
                <div class="lists-navigator clearfix">
                    @{ var pageInfo = Model.Contents;
                        <ol class="page-navigator">
                            @if (pageInfo.HasPrevPage)
                            {
                                <li class="prev"><a href="/index/@Model.OrderType/@(!string.IsNullOrWhiteSpace(Model.DisplayMeta)?Model.DisplayMeta+'/':"")@pageInfo.PrevPage">←</a></li>
                            }

                            @foreach (var navIndex in pageInfo.NavPageNums)
                            {
                                <li class="@(pageInfo.PageNum==navIndex?"current":"")"><a href="/index/@Model.OrderType/@(!string.IsNullOrWhiteSpace(Model.DisplayMeta)?Model.DisplayMeta+'/':"")@navIndex">@navIndex</a></li>
                            }

                            @if (pageInfo.HasNextPage)
                            {
                                <li class="next"><a href="/index/@Model.OrderType/@(!string.IsNullOrWhiteSpace(Model.DisplayMeta)?Model.DisplayMeta+'/':"")@pageInfo.NextPage">→</a></li>
                            }
                        </ol>
                    }
                </div>
            </div>
            @await Component.InvokeAsync("SideBar")
        </div>
    </div>
</main>